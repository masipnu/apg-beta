{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Selamat Datang","text":""},{"location":"#tutorial-aplikasi-manajemen-pegawai","title":"Tutorial Aplikasi Manajemen Pegawai","text":""},{"location":"#berbasis-php-mysql","title":"Berbasis PHP-MySQL","text":"<p>Mulai Belajar </p> <p>Beliin Kopi  </p>"},{"location":"01/","title":"Membuat database","text":"<p>Sebelum memulai, baiknya kita siapkan database, struktur tabel beserta sample datanya.</p> <pre><code>-- Create and select database\nCREATE DATABASE apg;\nUSE apg;\n\n-- Dumping structure for table apg.jabatan\nCREATE TABLE IF NOT EXISTS `jabatan` (\n  `id_jabatan` int(5) NOT NULL AUTO_INCREMENT,\n  `nama_jabatan` varchar(20) NOT NULL,\n  PRIMARY KEY (`id_jabatan`)\n);\n\n-- Dumping data for table apg.jabatan: ~4 rows (approximately)\nINSERT INTO `jabatan` (`id_jabatan`, `nama_jabatan`) VALUES\n    (1, 'Direktur'),\n    (2, 'Manajer'),\n    (3, 'Marketing'),\n    (4, 'Sekretaris');\n\n-- Dumping structure for table apg.pegawai\nCREATE TABLE IF NOT EXISTS `pegawai` (\n  `id_pegawai` int(5) NOT NULL AUTO_INCREMENT,\n  `nama_pegawai` varchar(30) NOT NULL,\n  `jenis_kelamin` varchar(1) DEFAULT NULL,\n  `tgl_lahir` date DEFAULT NULL,\n  `foto` varchar(50) DEFAULT NULL,\n  `keterangan` text,\n  `id_jabatan` int(5) DEFAULT NULL,\n  PRIMARY KEY (`id_pegawai`)\n);\n\n-- Dumping data for table apg.pegawai: ~1 rows (approximately)\nINSERT INTO `pegawai` (`id_pegawai`, `nama_pegawai`, `jenis_kelamin`, `tgl_lahir`, `foto`, `keterangan`, `id_jabatan`) VALUES\n    (1, 'Ipnu Masyaid', 'L', '1994-11-08', 'user1.png', '', 1);\n\n-- Dumping structure for table apg.user\nCREATE TABLE IF NOT EXISTS `user` (\n  `id_user` int(5) NOT NULL AUTO_INCREMENT,\n  `nama_lengkap` varchar(50) DEFAULT NULL,\n  `username` varchar(20) DEFAULT NULL,\n  `password` varchar(50) DEFAULT NULL,\n  PRIMARY KEY (`id_user`)\n);\n\n-- Dumping data for table apg.user: ~1 rows (approximately)\nINSERT INTO `user` (`id_user`, `nama_lengkap`, `username`, `password`) VALUES\n    (1, 'Ipnu Masyaid', 'admin', '21232f297a57a5a743894a0e4a801fc3');\n</code></pre>"},{"location":"02/","title":"Membuat koneksi ke database","text":"<p>Kita buat folder <code>library</code> terlebih dahulu, lalu buat file <code>config.php</code> di dalamnya.</p> <pre><code>&lt;?php\n$host = \"localhost\";\n$user = \"root\";\n$pass = \"\";\n$db = \"apg\";\n\n$con = mysqli_connect($host, $user, $pass, $db);\n\nif (mysqli_connect_errno()) {\n    echo \"Koneksi gagal! : \" . mysqli_connect_error();\n}\n?&gt;\n</code></pre> <p>Petunjuk</p> <ul> <li>Sekarang coba jalankan server php dengan cara masuk ke dalam <code>root</code> folder project dan menggunakan terminal, ketikkan <code>php -S localhost:80</code> dan ENTER</li> <li>Buka browser dan ketikkan <code>localhost/library/config.php</code></li> <li>Jika tidak ada salah ketik dan server berjalan normal, harusnya tapil halaman kosong.`</li> </ul>"},{"location":"03/","title":"Membuat file <code>login</code> dan <code>logout</code>","text":"<p>Ubah file <code>login.html</code> menjadi <code>login.php</code> tanpa mengubah skrip di dalamnya.</p> <p>Berikut kodenya</p> <pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Login Aplikasi&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"css/style.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;section class=\"login-box\"&gt;\n            &lt;h2&gt;Login Aplikasi&lt;/h2&gt;\n            &lt;form action=\"ceklogin.php\" method=\"post\"&gt;\n                &lt;input type=\"text\" placeholder=\"Username\" id=\"username\" name=\"username\"&gt;\n                &lt;input type=\"password\" placeholder=\"Password\" id=\"password\" name=\"password\"&gt;\n                &lt;input type=\"submit\" value=\"Login\"&gt;\n            &lt;/form&gt;\n        &lt;/section&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Jika diperhatikan ada baris kode <pre><code>&lt;form action=\"ceklogin.php\" method=\"post\"&gt;\n</code></pre> itu artinya jika tombol <code>login</code> diklik, maka data username dan password akan dikirim dan diproses ke file <code>ceklogin.php</code>, untuk dilakukan pencocokan antara username dan password yang ada di dalam database.</p> <p>Perhatian</p> <p>Jangan lupa copy folder <code>css</code> beserta isinya ke dalam root folder project agar tampilannya lebih bagus.</p> <p>Sekarang kita buat file <code>ceklogin.php</code>, berikut kodenya.</p> <p><pre><code>&lt;?php\n    session_start();\n    include \"library/config.php\";\n\n    $username = $_POST['username'];\n    $password = md5($_POST['password']);\n\n    $query = \"SELECT * FROM user WHERE username = '$username' AND password = '$password'\";\n    $hasil = mysqli_query($con,$query);\n    $data = mysqli_fetch_array($hasil);\n    $jml = mysqli_num_rows($hasil);\n\n    if ($jml &gt; 0) {\n        $_SESSION['username'] = $data['username'];\n        $_SESSION['password'] = $data['password'];\n\n        header('location: index.php');\n    } else {\n        echo \"&lt;p align='center'&gt;Login Gagal!&lt;/p&gt;\";\n        echo \"&lt;meta http-equiv='refresh' content='2; url=login.php'&gt;\";\n    }\n?&gt;\n</code></pre> Penjelasan</p> <ul> <li>Skrip di atas akan mengecek, apakah ada data pada tabel user dengan username dan password sesuai yang dimasukkan.</li> <li>Password dienskripsi menggunakan fungsi <code>md5()</code>.</li> <li>Jika data ditemukan, yang ditandai dengan jumlah data lebih dari 0, meka akan membuat <code>session</code> username dan password untuk digunakan sebagai penanda pada halaman lain bahwa user sudah login.</li> <li>Function <code>header()</code> akan mengarahkan ke halama <code>index.php</code></li> </ul> <p>Selanjutnya kita buat file <code>logout.php</code></p> <pre><code>&lt;?php\n    session_start();\n    session_destroy();\n\n    echo \"&lt;p align='center'&gt;Anda telah logout!&lt;/p&gt;\";\n    echo \"&lt;meta http-equiv='refresh' content='2; url=login.php'&gt;\";\n?&gt;\n</code></pre> <p>Penjelasan</p> <p>Fungsi <code>destroy()</code> akan menghapus data <code>session</code> username dan password yang dibuat pada file <code>ceklogin.php</code></p>"},{"location":"04/","title":"Membuat halaman <code>dashboard</code>","text":"<p>Untuk membuat halaman dashboard dibutuhkan 3 file, yaitu:</p> <ul> <li><code>index.php</code> yang berisi template yang digunakan oleh semua halaman,</li> <li><code>konten.php</code> yang berisi skrip untuk mengatur halaman mana yagn akan ditampilkan, dan</li> <li><code>dashboard.php</code> yang akan ditampilkan pada bagian konten.</li> </ul> <p>Mulai dari mengubah file <code>dashboard.html</code> menadi <code>index.php</code> dan rubah skripnya menjadi berikut.</p> <pre><code>&lt;?php\n    session_start();\n    ob_start();\n\n    include \"library/config.php\";\n\n    if (empty($_SESSION['username']) OR empty($_SESSION['password'])) {\n        echo \"&lt;p align='center'&gt;Anda harus login terlebih dahulu!&lt;/p&gt;\";\n        echo \"&lt;meta http-equiv='refresh' content='2; url=login.php'&gt;\";\n    } else {\n        define('INDEX', true);\n?&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Dashboard&lt;/title&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;link rel=\"stylesheet\" href=\"css/style.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;header&gt;\n        Aplikasi Manajemen Pegawai\n    &lt;/header&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;aside&gt;\n            &lt;ul class=\"menu\"&gt;\n                &lt;li&gt;&lt;a href=\"?hal=dashboard\"&gt;Dashboard&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"?hal=pegawai\"&gt;Data Pegawai&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"?hal=jabatan\"&gt;Data Jabatan&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"logout.php\"&gt;Keluar&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/aside&gt;\n        &lt;section class=\"main\"&gt;\n            &lt;?php include \"konten.php\" ?&gt;\n        &lt;/section&gt;\n    &lt;/div&gt;\n    &lt;footer&gt;\n        Copyright &amp;copy; &lt;b&gt;Masipnu&lt;/b&gt; Official\n    &lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;?php\n}\n?&gt;\n</code></pre> <p>File <code>konten.php</code></p> <pre><code>&lt;?php\n    if (!defined('INDEX')) die();\n\n    $halaman = [\n        \"dashboard\",\n        \"pegawai\",\n        \"pegawai_tambah\",\n        \"pegawai_insert\",\n        \"pegawai_edit\",\n        \"pegawai_update\",\n        \"pegawai_hapus\",\n        \"jabatan\",\n        \"jabatan_tambah\",\n        \"jabatan_insert\",\n        \"jabatan_edit\",\n        \"jabatan_update\",\n        \"jabatan_hapus\"\n    ];\n\n    if (isset($_GET['hal'])) {\n        $hal = $_GET['hal'];\n    } else {\n        $hal = 'dashboard';\n    }\n\n    foreach($halaman as $h){\n        if($hal == $h){\n            include \"content/$h.php\";\n            break;\n        }\n    }\n?&gt;\n</code></pre> <p>Dan berikut skrip file <code>dashboard</code>, diletakkan di dalam folder <code>content</code>.</p> <pre><code>&lt;?php\n    if(!defined('INDEX')) die(\"\");\n?&gt;\n\n&lt;h1&gt;Selamat Datang di Aplikasi Manajemen Pegawai&lt;/h1&gt;\n&lt;h3&gt;Anda login sebagai &lt;b&gt;Administrator&lt;/b&gt;&lt;/h3&gt;\n</code></pre> <p>Penjelasan</p> <ul> <li>Sekarang coba buka browser kembali, ketikkan <code>localhost</code> lalu ENTER, tentu ada akan diarahkan ke halaman <code>login</code>.</li> <li>Coba masukkan <code>admin</code> untuk username dan passwordnya, lalu ENTER.</li> <li>Selamat \ud83d\ude0e</li> </ul>"},{"location":"05/","title":"Membuat halaman <code>jabatan</code>","text":"<p>Buat file-file berikut di dalam folder <code>content</code>.</p> <ul> <li><code>jabatan.php</code></li> <li><code>jabatan_tambah.php</code></li> <li><code>jabatan_insert.php</code></li> <li><code>jabatan_edit.php</code></li> <li><code>jabatan_update.php</code></li> <li><code>jabatan_hapus.php</code></li> </ul> <p>Berikut kode untuk masing-masing filenya.</p>"},{"location":"05/#file-jabatanphp","title":"File <code>jabatan.php</code>","text":"<p>Silahkan modifikasi dari file <code>tabel.html</code>.</p> <pre><code>&lt;?php\nif(!defined('INDEX')) die(\"\");\n?&gt;\n\n&lt;h2 class=\"judul\"&gt;Data Jabatan&lt;/h2&gt;\n&lt;a href=\"?hal=jabatan_tambah\" class=\"tombol\"&gt;Tambah&lt;/a&gt;\n\n&lt;table class=\"table\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;No&lt;/th&gt;\n            &lt;th&gt;Nama Jabatan&lt;/th&gt;\n            &lt;th&gt;Aksi&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;?php\n        $query = \"SELECT * FROM jabatan ORDER BY id_jabatan DESC\";\n        $result = mysqli_query($con,$query);\n        $no = 0;\n        while($data = mysqli_fetch_array($result)){\n            $no++;\n        ?&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;?= $no ?&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;?= $data['nama_jabatan'] ?&gt;&lt;/td&gt;\n                &lt;td&gt;\n                    &lt;a href=\"?hal=jabatan_edit&amp;id=&lt;?= $data['id_jabatan'] ?&gt;\" class=\"tombol edit\"&gt; Edit&lt;/a&gt;\n                    &lt;a href=\"?hal=jabatan_hapus&amp;id=&lt;?= $data['id_jabatan'] ?&gt;\" class=\"tombol hapus\"&gt; Hapus&lt;/a&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;?php    \n        }\n        ?&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>"},{"location":"05/#file-jabatan_tambahphp","title":"File <code>jabatan_tambah.php</code>","text":"<p>Silahkan modifikasi dari file <code>form.html</code></p> <pre><code>&lt;?php\nif(!defined('INDEX')) die(\"\");\n?&gt;\n\n&lt;h2 class=\"judul\"&gt;Tambah Jabatan&lt;/h2&gt;\n&lt;form action=\"?hal=jabatan_insert\" method=\"post\"&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"nama\"&gt;Nama&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;input type=\"text\" name=\"nama\" id=\"nama\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;input type=\"reset\" value=\"Reset\" class=\"tombol reset\"&gt;\n        &lt;input type=\"submit\" value=\"Simpan\" class=\"tombol simpan\"&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre> <p>Skrip di atas berupa tampilan form, untuk bisa memproses datanya kita butuh file <code>jabatan_insert.php</code>, berikut skripnya.</p>"},{"location":"05/#file-jabatan_insertphp","title":"File <code>jabatan_insert.php</code>","text":"<pre><code>&lt;?php\nif(!defined('INDEX')) die(\"\");\n\n$nama_jabatan = $_POST['nama'];\n$query = \"INSERT INTO jabatan SET nama_jabatan = '$nama_jabatan'\";\n$result = mysqli_query($con,$query);\n\nif ($result) {\n    echo \"Jabatan &lt;b&gt;$nama_jabatan&lt;/b&gt; berhasil disimpan!\";\n    echo \"&lt;meta http-equiv='refresh' content='2; url=?hal=jabatan'&gt;\";\n} else {\n    echo \"Tidak dapat menyimpan data!&lt;br&gt;\";\n    echo mysqli_error();\n}\n?&gt;\n</code></pre> <p>Skrip utama disimpan dalam variabel <code>$result</code> untuk memasukkan data jabatan, lalu kita gunakan fungsi <code>if()</code> untuk menampilkan pesan jika proses insert data berhasil maupun gagal.</p>"},{"location":"05/#file-jabatan_editphp","title":"File <code>jabatan_edit.php</code>","text":"<pre><code>&lt;?php\nif(!defined('INDEX')) die();\n\n$id = $_GET['id'];\n$query = \"SELECT * FROM jabatan WHERE id_jabatan='$id'\";\n$result = mysqli_query($con, $query);\n$data = mysqli_fetch_assoc($result);\n?&gt;\n\n&lt;h2 class=\"judul\"&gt;Edit Jabatan&lt;/h2&gt;\n&lt;form action=\"?hal=jabatan_update\" method=\"post\"&gt;\n    &lt;input type=\"hidden\" name=\"id\" value=\"&lt;?= $data['id_jabatan']?&gt;\"&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"nama\"&gt;Nama Jabatan&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;input type=\"text\" name=\"nama\" id=\"nama\" value=\"&lt;?=$data['nama_jabatan']?&gt;\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;input type=\"submit\" value=\"Simpan\" class=\"tombol simpan\"&gt;\n        &lt;input type=\"reset\" value=\"Reset\" class=\"tombol reset\"&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre> <ul> <li>Skrip di atas intinya sama dengan file <code>jabatan_tambah.php</code>, namun pada bagian atas ditambah skrip untuk mendapatkan data jabatan yang akan diedit dari database, untuk ditampilkan nilai defaultnya.</li> <li>Di bagian awal juga perlu kita tambahkan <code>&lt;input&gt;</code> dengan type hidden untuk mendapatkan <code>id</code> dari data jabatan yang akan diedit.</li> <li>Selanjutnya jika tombol Simpan diklik maka data akan diproses/ dilempar ke halaman <code>jabatan_update.php</code></li> </ul>"},{"location":"05/#file-jabatan_updatephp","title":"File <code>jabatan_update.php</code>","text":"<p>Skrip ini bisa copy-paste dari file <code>jabatan_insert.php</code>, bedanya terletak pada proses query datanya.</p> <pre><code>&lt;?php\nif(!defined('INDEX')) die();\n\n$id = $_POST['id'];\n$nama = $_POST['nama'];\n$query = \"UPDATE jabatan SET nama_jabatan = '$nama' WHERE id_jabatan = '$id'\";\n$result = mysqli_query($con, $query);\n\nif ($result) {\n    echo \"Jabatan berhasil diperbaharui!\";\n    echo \"&lt;meta http-equiv='refresh' content='2; url=?hal=jabatan'&gt;\";\n} else {\n    echo \"Tidak dapat memperbaharui data!!&lt;br&gt;\";\n    echo mysqli_error();\n}\n?&gt;\n</code></pre>"},{"location":"05/#file-jabatan_hapusphp","title":"File <code>jabatan_hapus.php</code>","text":"<p>Skrip ini hampir sama dengan file <code>jabatan_insert.php</code> atau <code>jabatan_update.php</code>, namun perlu disesuaikan querynya.</p> <pre><code>&lt;?php\nif(!defined('INDEX')) die();\n\n$id = $_GET['id'];\n$query = \"DELETE FROM jabatan WHERE id_jabatan = '$id'\";\n$result = mysqli_query($con, $query);\n\nif ($result) {\n    echo \"Jabatan berhasil dihapus!\";\n    echo \"&lt;meta http-equiv='refresh' content='2; url=?hal=jabatan'&gt;\";\n} else {\n    echo \"Tidak dapat menghapus data!!&lt;br&gt;\";\n    echo mysqli_error();\n}\n?&gt;\n</code></pre>"},{"location":"06/","title":"Membuat Halaman Pegawai","text":"<p>Halaman pegawai berisi skrip yang lebih kompleks, maka untuk bisa melanjutkan, pahami dulu konsep CRUD pada halaman jabatan. Kita perlu menyiapkan 6 file, yaitu:</p> <ul> <li><code>pegawai.php</code></li> <li><code>pegawai_tambah.php</code></li> <li><code>pegawai_insert.php</code></li> <li><code>pegawai_edit.php</code></li> <li><code>pegawai_update.php</code></li> <li><code>pegawai_hapus.php</code></li> </ul>"},{"location":"06/#halaman-pegawaiphp","title":"Halaman <code>pegawai.php</code>","text":"<pre><code>&lt;?php\nif(!defined('INDEX')) die();\n?&gt;\n\n&lt;h2 class=\"judul\"&gt;Data Pegawai&lt;/h2&gt;\n&lt;a href=\"?hal=pegawai_tambah\" class=\"tombol\"&gt;Tambah&lt;/a&gt;\n\n&lt;table class=\"table\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;No&lt;/th&gt;\n            &lt;th&gt;Foto&lt;/th&gt;\n            &lt;th&gt;Nama&lt;/th&gt;\n            &lt;th&gt;Jenis Kelamin&lt;/th&gt;\n            &lt;th&gt;Tanggal Lahir&lt;/th&gt;\n            &lt;th&gt;Jabatan&lt;/th&gt;\n            &lt;th&gt;Keterangan&lt;/th&gt;\n            &lt;th&gt;Aksi&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n&lt;?php\n$query = \"SELECT * FROM pegawai \";\n$query .= \"LEFT JOIN jabatan \";\n$query .= \"ON pegawai.id_jabatan = jabatan.id_jabatan \";\n$query .= \"ORDER BY pegawai.id_jabatan DESC\";\n$result = mysqli_query($con,$query);\n$no = 0;\n\nwhile($data = mysqli_fetch_assoc($result)){\n    $no++;\n?&gt;\n\n&lt;tr&gt;\n    &lt;td&gt;&lt;?=$no;?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;img src=\"images/&lt;?=$data['foto']?&gt;\" alt=\"\" width=\"100\"&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?=$data['nama_pegawai']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?=$data['jenis_kelamin']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?=$data['tgl_lahir']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?=$data['nama_jabatan']?&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;?=$data['keterangan']?&gt;&lt;/td&gt;\n    &lt;td&gt;\n        &lt;a href=\"?hal=pegawai_edit&amp;id=&lt;?=$data['id_pegawai']?&gt;\"\n        class=\"tombol edit\"&gt;Edit&lt;/a&gt;\n        &lt;a href=\"?hal=pegawai_hapus&amp;id=&lt;?=$data['id_pegawai']?&gt;&amp;foto=&lt;?=$data['foto']?&gt;\"\n        class=\"tombol hapus\"&gt;Hapus&lt;/a&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;?php\n}\n?&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre> <p>Perhatian</p> <p>Yang perlu diperhatikan adalah penggunakan query <code>LEFT JOIN</code> dan pada tombol Hapus mengirimkan data foto melalui URL yang berisi nama foto yang akan dihapus.</p>"},{"location":"06/#halaman-pegawai_tambahphp","title":"Halaman <code>pegawai_tambah.php</code>","text":"<pre><code>&lt;?php\nif(!defined('INDEX')) die();\n?&gt;\n\n&lt;h2 class=\"judul\"&gt;Tambah Pegawai&lt;/h2&gt;\n&lt;form action=\"?hal=pegawai_insert\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"foto\"&gt;Foto&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;input type=\"file\" name=\"foto\" id=\"foto\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"nama\"&gt;Nama&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;input type=\"text\" name=\"nama\" id=\"nama\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"jk\"&gt;Jenis Kelamin&lt;/label&gt;\n        &lt;input type=\"radio\" name=\"jk\" id=\"jk\" value=\"L\"&gt; Laki-laki\n        &lt;input type=\"radio\" name=\"jk\" id=\"jk\" value=\"P\"&gt; Perempuan\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"tanggal\"&gt;Tanggal&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;input type=\"date\" name=\"tanggal\" id=\"tanggal\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"jabatan\"&gt;Jabatan&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;select name=\"jabatan\" id=\"jabatan\"&gt;\n                &lt;option value=\"\"&gt; - Pilih Jabatan - &lt;/option&gt;\n&lt;?php\n$query = \"SELECT * FROM jabatan\";\n$result = mysqli_query($con,$query);\nwhile($data = mysqli_fetch_assoc($result)){\n    echo \"&lt;option value='$data[id_jabatan]'&gt; $data[nama_jabatan] &lt;/option&gt;\";\n}\n?&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"keterangan\"&gt;Keterangan&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;textarea name=\"keterangan\" id=\"keterangan\" style=\"width:100%\" rows=\"5\" &gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;input type=\"submit\" value=\"Simpan\" class=\"tombol simpan\"&gt;\n        &lt;input type=\"reset\" value=\"Batal\" class=\"tombol reset\"&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre> <p>Catatan</p> <ul> <li>Perhatikan pada tag <code>&lt;form&gt;</code>, di dalamnya ditambahkan atribut <code>enctype=\"multipart/form-data</code> agar bisa memproses file.</li> <li>Berikutnya kita perlu menyiapkan file <code>pegawai_insert.php</code> untuk memproses form.</li> </ul>"},{"location":"06/#halaman-pegawai_insertphp","title":"Halaman <code>pegawai_insert.php</code>","text":"<p>Buat kode berikut, namun sebelum dijalankan buat dulu folder <code>images</code> di dalam folder proyek untuk menyimpan foto profil pegawai.</p> <pre><code>&lt;?php\nif(!defined('INDEX')) die();\n\n$foto   = $_FILES['foto']['name'];\n$lokasi = $_FILES['foto']['tmp_name'];\n$tipe   = $_FILES['foto']['type'];\n$ukuran = $_FILES['foto']['size'];\n\n$nama       = $_POST['nama'];\n$jk         = $_POST['jk'];\n$tgl        = $_POST['tanggal'];\n$id_jabatan = $_POST['jabatan'];\n$ket        = $_POST['keterangan'];\n\n$error = \"\";\n\nif($foto == \"\"){\n    $query  = \"INSERT INTO pegawai SET \";\n    $query .= \"foto = '$foto', \";\n    $query .= \"nama_pegawai = '$nama', \";\n    $query .= \"jenis_kelamin = '$jk', \";\n    $query .= \"tgl_lahir = '$tgl', \";\n    $query .= \"id_jabatan = '$id_jabatan', \";\n    $query .= \"keterangan = '$ket'\";\n\n    $result = mysqli_query($con,$query);\n} else {\n    if($tipe != \"image/jpeg\" and $tipe != \"image/jpg\" and $tipe != \"image/png\"){\n        $error = \"Maaf, tipe file tidak didukung!\";\n    } elseif($ukuran &gt;= 1000000){\n        echo $ukuran;\n        $error = \"Ukuran file terlalu besar (lebih dari 1 MB)!\";\n    } else {\n        move_uploaded_file($lokasi,\"images/\".$foto);\n\n        $query  = \"INSERT INTO pegawai SET \";\n        $query .= \"foto = '$foto', \";\n        $query .= \"nama_pegawai = '$nama', \";\n        $query .= \"jenis_kelamin = '$jk', \";\n        $query .= \"tgl_lahir = '$tgl', \";\n        $query .= \"id_jabatan = '$id_jabatan', \";\n        $query .= \"keterangan = '$ket'\";\n\n        $result = mysqli_query($con,$query);\n    }\n}\n\nif($error != \"\"){\n    echo $error;\n    echo \"&lt;meta http-equiv='refresh' content='2; url=?hal=pegawai_tambah'&gt;\";\n} elseif ($query){\n    echo \"Berhasil menambahkan data pegawai &lt;b&gt;$nama&lt;/b&gt;\";\n    echo \"&lt;meta http-equiv='refresh' content='1; url=?hal=pegawai'&gt;\";\n} else {\n    echo \"Tidak dapat menyimpan data!&lt;br&gt;\";\n    echo mysqli_error();\n}\n?&gt;\n</code></pre> <p>Perhatian</p> <p>Skrip di atas lebih panjang daripada file <code>jabatan_insert.php</code> karena memang saat menambahkan data pegawai ada banyak input yang perlu dimasukkan ke dalam database, selain itu juga dilakukan pengecekan, apakah menyertakan file foto atau tidak, validasi tipe file dan ukuran maksimal file foto.</p>"},{"location":"06/#halaman-pegawai_editphp","title":"Halaman <code>pegawai_edit.php</code>","text":"<pre><code>&lt;?php\nif(!defined('INDEX')) die();\n\n$id = $_GET['id'];\n$query = \"SELECT * FROM pegawai WHERE id_pegawai = '$id'\";\n$result = mysqli_query($con,$query);\n$data = mysqli_fetch_assoc($result);\n?&gt;\n\n&lt;h2 class=\"judul\"&gt;Edit Pegawai&lt;/h2&gt;\n&lt;form action=\"?hal=pegawai_update\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n\n    &lt;!-- Input ID --&gt;\n    &lt;input type=\"hidden\" name=\"id\" value=\"&lt;?=$data['id_pegawai']?&gt;\"&gt;\n\n    &lt;!-- Input Foto --&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"foto\"&gt;Foto&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;input type=\"file\" name=\"foto\" id=\"foto\"&gt;\n            &lt;img src=\"images/&lt;?=$data['foto']?&gt;\" width=\"100\"  alt=\"\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Input Nama --&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"nama\"&gt;Nama&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;input type=\"text\" name=\"nama\" id=\"nama\" value=\"&lt;?=$data['nama_pegawai']?&gt;\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Input Gender --&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"jk\"&gt;Jenis Kelamin&lt;/label&gt;\n\n        &lt;!-- Pengecekan gender --&gt;\n        &lt;?php\n        if($data['jenis_kelamin']==\"L\"){\n            $l=\" checked\";\n            $p=\"\";\n        }else{\n            $l=\"\";\n            $p=\" checked\";\n        }\n        ?&gt;\n\n        &lt;input type=\"radio\" name=\"jk\" id=\"jk\" value=\"L\" &lt;?= $l ?&gt;&gt; Laki-laki\n        &lt;input type=\"radio\" name=\"jk\" id=\"jk\" value=\"P\" &lt;?= $p ?&gt;&gt; Perempuan\n    &lt;/div&gt;\n\n    &lt;!-- Input Tanggal Lahir --&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"tanggal\"&gt;Tanggal&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;input type=\"date\" name=\"tanggal\" id=\"tanggal\" value=\"&lt;?=$data['tgl_lahir']?&gt;\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Input Jabatan --&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"jabatan\"&gt;Jabatan&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;select name=\"jabatan\" id=\"jabatan\"&gt;\n                &lt;option value=\"\"&gt; - Pilih Jabatan - &lt;/option&gt;\n&lt;?php\n$queryj = \"SELECT * FROM jabatan\";\n$resultj = mysqli_query($con,$queryj);\nwhile($j = mysqli_fetch_assoc($resultj)){\n    echo \"&lt;option value='$j[id_jabatan]'\";\n    if($j['id_jabatan'] == $data['id_jabatan']) echo \" selected\";\n    echo \"&gt; $j[nama_jabatan] &lt;/option&gt;\";\n}\n?&gt;\n            &lt;/select&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;!-- Input Keterangan --&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;label for=\"keterangan\"&gt;Keterangan&lt;/label&gt;\n        &lt;div class=\"input\"&gt;\n            &lt;textarea name=\"keterangan\" id=\"keterangan\"\n            style=\"width:100%\" rows=\"5\"&gt;&lt;?= $data['keterangan'] ?&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;input type=\"submit\" value=\"Simpan\" class=\"tombol simpan\"&gt;\n        &lt;input type=\"reset\" value=\"Batal\" class=\"tombol reset\"&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre> <p>Perhatian</p> <ul> <li>Perhatikan dan pahami cara menampilkan data paad input jenis kelamin dan jabatan.</li> <li>Pada input jenis kelamin, jika data sesuai dengan database, maka ditampilkan atribut <code>checked</code>.</li> <li>Pada input jabatan, jika data sesuai dengan database, ditambahkan atribut <code>selected</code>.</li> </ul>"},{"location":"06/#halaman-pegawai_updatephp","title":"Halaman <code>pegawai_update.php</code>","text":"<p>Perhatian</p> <ul> <li>Silahkan copy dari file <code>pegawai_insert.php</code> dan sesuaikan perubahannya.</li> <li>Menyimpan id dengan variabel <code>$id</code></li> <li>Merubah query dari <code>INSERT INTO</code> menjadi <code>UPDATE ... WHERE</code></li> <li>Menghapus foto asli dengan fungsi <code>unlink()</code></li> </ul> <pre><code>&lt;?php\nif(!defined('INDEX')) die();\n\n$foto   = $_FILES['foto']['name'];\n$lokasi = $_FILES['foto']['tmp_name'];\n$tipe   = $_FILES['foto']['type'];\n$ukuran = $_FILES['foto']['size'];\n\n$id         = $_POST['id'];\n$nama       = $_POST['nama'];\n$jk         = $_POST['jk'];\n$tgl        = $_POST['tanggal'];\n$id_jabatan = $_POST['jabatan'];\n$ket        = $_POST['keterangan'];\n\n$error = \"\";\n\nif($foto == \"\"){\n    $query  = \"UPDATE pegawai SET \";\n    $query .= \"nama_pegawai = '$nama', \";\n    $query .= \"jenis_kelamin = '$jk', \";\n    $query .= \"tgl_lahir = '$tgl', \";\n    $query .= \"id_jabatan = '$id_jabatan', \";\n    $query .= \"keterangan = '$ket' \";\n    $query .= \"WHERE id_pegawai = '$id'\";\n\n    $result = mysqli_query($con,$query);\n} else {\n    if($tipe != \"image/jpeg\" and $tipe != \"image/jpg\" and $tipe != \"image/png\"){\n        $error = \"Maaf, tipe file tidak didukung!\";\n    } elseif($ukuran &gt;= 1000000){\n        echo $ukuran;\n        $error = \"Ukuran file terlalu besar (lebih dari 1 MB)!\";\n    } else {\n\n        // Menghapus foto sebelumnya\n        $query = \"SELECT * FROM pegawai WHERE id_pegawai ='$id'\";\n        $result = mysqli_query($con,$query);\n        $data = mysqli_fetch_assoc($result);\n\n        if(file_exists(\"images/$data[foto]\")){\n            unlink(\"images/$data[foto]\");\n        }\n\n        move_uploaded_file($lokasi,\"images/\".$foto);\n\n        $query  = \"UPDATE pegawai SET \";\n        $query .= \"foto = '$foto', \";\n        $query .= \"nama_pegawai = '$nama', \";\n        $query .= \"jenis_kelamin = '$jk', \";\n        $query .= \"tgl_lahir = '$tgl', \";\n        $query .= \"id_jabatan = '$id_jabatan', \";\n        $query .= \"keterangan = '$ket'\";\n        $query .= \"WHERE id_pegawai = '$id'\";\n\n        $result = mysqli_query($con,$query);\n    }\n}\n\nif($error != \"\"){\n    echo $error;\n    echo \"&lt;meta http-equiv='refresh' content='2; url=?hal=pegawai_edit'&gt;\";\n} elseif ($query){\n    echo \"Berhasil memperbaharui data pegawai &lt;b&gt;$nama&lt;/b&gt;\";\n    echo \"&lt;meta http-equiv='refresh' content='1; url=?hal=pegawai'&gt;\";\n} else {\n    echo \"Tidak dapat menyimpan data!&lt;br&gt;\";\n    echo mysqli_error();\n}\n?&gt;\n</code></pre>"},{"location":"06/#halaman-pegawai_hapusphp","title":"Halaman <code>pegawai_hapus.php</code>","text":"<pre><code>&lt;?php\nif(!defined('INDEX')) die();\n\n$id   = $_GET['id'];\n$foto = $_GET['foto'];\n\nif(file_exists(\"images/$foto\")){\n    unlink(\"images/$foto\");\n}\n\n$query  = \"DELETE FROM pegawai WHERE id_pegawai = '$id'\";\n$result = mysqli_query($con,$query);\n\nif($result){\n    echo \"Data pegawai berhasil dihapus!\";\n    echo \"&lt;meta http-equiv='refresh' content='1; url=?hal=pegawai'&gt;\";\n}else{\n    echo \"Tidak dapat menghapus data pegawai!&lt;br&gt;\";\n    echo mysqli_error();\n}\n\n?&gt;\n</code></pre> <p>Catatan</p> <p>Pada skrip di atas sama dengan <code>pegawai_update.php</code>, yaitu terdapat skrip untuk menghapus foto file, hanya saja data foto diambil dari query string pada URL.</p>"},{"location":"end/","title":"Penutup","text":"<p>Penutup</p> <p>Terima kasih telah menggunakan panduan belajar membuat Aplikasi Manajemen Pegawai berbasis PHP-MySQL ini. Saya berharap panduan ini dapat memberikan manfaat nyata dalam memahami dan menguasai dasar Bahasa Pemrograman PHP dan MySQL, baik untuk kebutuhan belajar, mengajar, maupun pengembangan profesional.</p> <p>Jika ada kekurangan dalam penyusunan panduan ini, saya dengan rendah hati menerima saran dan kritik membangun agar panduan ini bisa terus diperbaiki dan dikembangkan.</p> <p>Mari bersama-sama menjadikan ilmu yang kita pelajari sebagai bekal untuk kebaikan dan kemajuan. Saya percaya, dengan berbagi ilmu, kita tidak hanya membantu sesama, tetapi juga mendekatkan diri pada keberkahan ilmu itu sendiri.</p> <p>Selamat belajar, dan semoga sukses selalu menyertai langkah Anda!</p> <p>Hormat kami,</p> <p>Ipnu Masyaid</p> <p>Beliin Kopi  </p>"}]}